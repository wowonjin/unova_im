## DB(Postgres)
## - 로컬/외부에서 Render Postgres에 붙을 때는 보통 SSL이 필요합니다.
## - Render "Internal Database URL"은 Render 내부 네트워크용이라 로컬 PC에서 직접 접속이 안 되는 경우가 대부분입니다.
##   로컬에서는 Render 대시보드의 "External Database URL"(또는 Public/External 연결 문자열)을 사용하세요.
##
## 예:
##   postgresql://USER:PASSWORD@HOST:5432/DB?schema=public
## Render(외부 연결) 예(권장):
##   postgresql://USER:PASSWORD@xxxxxx-postgres.render.com:5432/DB?schema=public
##   + 아래 PGSSLMODE=require (또는 URL에 ?ssl=true / ?sslmode=require)
DATABASE_URL="postgresql://USER:PASSWORD@HOST:5432/DB?schema=public"

# (권장: Render 외부 연결) SSL 강제
PGSSLMODE="require"

## 관리자(선생님) 이메일 - /enter에서 로그인 가능한 이메일(쉼표로 여러 개)
ADMIN_EMAILS="admin@example.com"

# (권장) 서비스 베이스 URL
# - 토스페이먼츠 성공/실패 리다이렉트 URL 생성, OAuth 콜백 등에 사용됩니다.
# - 로컬에서 사용하는 포트에 맞춰 설정하세요. (Next dev 기본값은 보통 3000)
NEXT_PUBLIC_BASE_URL="http://localhost:3000"

# 로그인 기능 제거 모드: 진도/노트가 저장될 기본 사용자(공용 계정)
DEFAULT_USER_EMAIL="admin@example.com"

# (선택) 나가기 버튼 클릭 시 이동할 URL(아임웹 메인/랜딩 등)
NEXT_PUBLIC_EXIT_URL=""

# (선택) 우측 하단 카카오톡 질문방 버튼 링크
NEXT_PUBLIC_KAKAO_CHAT_URL=""

# (선택) 공개/데모 모드에서 아임웹 회원 프로필을 강제로 표시하고 싶을 때
IMWEB_DEFAULT_MEMBER_CODE=""

# (권장: Render 등) 업로드/썸네일/교재 파일 저장 경로
# - Render에서는 Persistent Disk를 /var/data 로 마운트하고 STORAGE_ROOT=/var/data 로 설정하세요.
# - 미설정 시 기본값: <프로젝트 루트>/storage
STORAGE_ROOT=""

# Imweb REST API (토큰 발급: GET http://api.imweb.me/v2/auth?key=...&secret=...)
IMWEB_API_KEY="YOUR_IMWEB_API_KEY"
IMWEB_API_SECRET="YOUR_IMWEB_API_SECRET"
# 제휴사인 경우에만 사용(없으면 비워둬도 됨)
IMWEB_ACCESS_AFFILIATE=""

# Imweb Webhook (선택) - 개발자센터에서 서명 헤더 규칙에 맞춰 조정 필요
IMWEB_WEBHOOK_SECRET=""

# (권장) 웹훅 토큰 방식: 아임웹이 호출하는 URL에 ?token=값 을 붙이고, 아래 값과 동일하게 맞춥니다.
# 예: https://class.yourdomain.com/api/imweb/webhook?token=MY_TOKEN
IMWEB_WEBHOOK_TOKEN=""

# 웹훅 서명 설정(개발자센터에 맞춰 조정)
# - 헤더명은 소문자로 넣어주세요 (예: x-imweb-signature)
IMWEB_WEBHOOK_SIGNATURE_HEADER="x-imweb-signature"
# - HMAC 알고리즘: sha256/sha1/sha512
IMWEB_WEBHOOK_HMAC_ALG="sha256"
# - 서명 인코딩: hex/base64
IMWEB_WEBHOOK_SIGNATURE_ENCODING="hex"
# - 헤더 값에 prefix가 붙는 경우 지정(예: "sha256="), 없으면 비움
IMWEB_WEBHOOK_SIGNATURE_PREFIX=""

# 처리할 이벤트 타입 allow-list (쉼표로 구분). 비워두면 모든 이벤트에서 order_no가 있으면 처리합니다.
IMWEB_WEBHOOK_EVENTS=""

# Toss Payments (개발자센터에서 발급)
# - 클라이언트 키: "결제위젯 연동 키"의 클라이언트 키를 사용하세요. (API 개별 연동 키는 결제위젯 SDK에서 지원하지 않습니다)
# - 시크릿 키: 서버에서 승인(confirm)/취소(cancel)에 사용 (절대 프론트에 노출 금지)
TOSS_CLIENT_KEY="YOUR_TOSS_WIDGET_CLIENT_KEY"
TOSS_SECRET_KEY="YOUR_TOSS_SECRET_KEY"


